<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<title>Kod Paylaş</title>
<style>
  body{font-family:sans-serif;background:#0d1117;color:#c9d1d9;margin:0;padding:20px}
  h1{font-size:18px}
  textarea{width:100%;height:300px;background:#161b22;color:#f0f6fc;border:1px solid #30363d;border-radius:6px;padding:10px;font-family:monospace;font-size:14px}
  button{margin-top:10px;padding:8px 12px;border:none;border-radius:6px;background:#238636;color:white;cursor:pointer}
  input{margin-top:10px;width:100%;padding:8px;border:1px solid #30363d;border-radius:6px;background:#0d1117;color:#c9d1d9}
</style>
</head>
<body>
  <h1>Kodunu Yaz & Link Al</h1>
  <textarea id="code"><h1>Merhaba Dünya</h1></textarea>
  <br>
  <button onclick="createLink()">Link Oluştur</button>
  <input id="link" placeholder="Link burada görünecek" readonly>
  
<script>
function createLink(){
  const code = document.getElementById('code').value;
  const encoded = btoa(unescape(encodeURIComponent(code))); // kodu base64
  const link = location.origin + location.pathname + "#v=" + encoded;
  document.getElementById('link').value = link;
}

// Sayfa link ile açılırsa kodu direkt çalıştır
window.addEventListener('load', ()=>{
  if(location.hash.startsWith("#v=")){
    const encoded = location.hash.slice(3);
    try{
      const code = decodeURIComponent(escape(atob(encoded)));
      document.body.innerHTML = code; // sadece kodu göster
    }catch(e){
      document.body.innerHTML = "<p style='color:red'>Kod çözülemedi!</p>";
    }
  }
});
</script>
</body>
</html>
